/**
 * Liste exhaustive des clubs sportifs professionnels et amateurs en France
 * Organis√©e par sport et niveau
 */

// ‚öΩ FOOTBALL
export const FOOTBALL_CLUBS = [
  // Ligue 1
  'Paris Saint-Germain', 'Olympique de Marseille', 'Olympique Lyonnais', 'AS Monaco',
  'LOSC Lille', 'Stade Rennais', 'OGC Nice', 'RC Lens', 'RC Strasbourg',
  'Stade Brestois', 'Montpellier HSC', 'Stade de Reims', 'Toulouse FC',
  'AJ Auxerre', 'Le Havre AC', 'FC Nantes', 'Angers SCO',

  // Ligue 2
  'SM Caen', 'AC Ajaccio', 'SC Bastia', 'EA Guingamp', 'FC Lorient',
  'Paris FC', 'Grenoble Foot 38', 'Amiens SC', 'US Orl√©ans', 'Red Star FC',
  'AS Saint-√âtienne', 'Pau FC', 'Rodez AF', 'FC Annecy', 'USL Dunkerque',
  'Estac Troyes', 'Valenciennes FC', 'Dijon FCO',

  // Clubs historiques National et r√©gionaux
  'FC Sochaux-Montb√©liard', 'AS Nancy-Lorraine', 'FC Metz', 'AS Cannes',
  'N√Æmes Olympique', 'Clermont Foot', 'Chamois Niortais', 'Tours FC',
  'Ch√¢teauroux', 'Quevilly-Rouen', 'US Cr√©teil', 'US Avranches',
];

// üèÄ BASKETBALL
export const BASKETBALL_CLUBS = [
  // Betclic Elite (Pro A)
  'ASVEL Lyon-Villeurbanne', 'AS Monaco Basket', 'Metropolitans 92',
  'Paris Basketball', 'LDLC ASVEL', 'JDA Dijon Basket', 'Strasbourg IG',
  'Le Mans Sarthe Basket', 'Limoges CSP', 'ESSM Le Portel', 'Cholet Basket',
  'Gravelines Dunkerque', '√âlan B√©arnais Pau-Lacq-Orthez', 'Boulogne-Levallois',
  'SIG Strasbourg', 'Orl√©ans Loiret Basket', 'BCM Gravelines-Dunkerque',
  'Nanterre 92', 'Roanne', 'Chalon-sur-Sa√¥ne',

  // Pro B et clubs historiques
  'STB Le Havre', 'Fos Provence Basket', 'Saint-Quentin Basket-Ball',
  'Vichy-Clermont', 'Blois Basket 41', 'Aix-Maurienne Savoie Basket',
  'Gries Oberhoffen Basket', 'Denain Voltaire', 'Saint-Chamond Basket',
];

// üèâ RUGBY
export const RUGBY_CLUBS = [
  // Top 14
  'Stade Toulousain', 'UBB Bordeaux-B√®gles', 'Stade Rochelais', 'ASM Clermont Auvergne',
  'Racing 92', 'Stade Fran√ßais Paris', 'Castres Olympique', 'Lyon OU',
  'Toulon RCT', 'Montpellier HR', 'Section Paloise', 'USA Perpignan',
  'Aviron Bayonnais', 'Biarritz Olympique',

  // Pro D2 et clubs historiques
  'CA Brive', 'Colomiers Rugby', 'FC Grenoble', 'Provence Rugby',
  'US Oyonnax', 'SU Agen', 'US Dax', 'Aurillac', 'Nevers',
  'B√©ziers', 'Narbonne', 'Mont-de-Marsan', 'Rouen Normandie Rugby',
  'Vannes RC', 'Massy', 'Nice C√¥te d\'Azur',
];

// ü§æ HANDBALL
export const HANDBALL_CLUBS = [
  // Liqui Moly Starligue
  'Paris Saint-Germain Handball', 'Montpellier Handball', 'HBC Nantes',
  'Fenix Toulouse Handball', 'USAM N√Æmes Gard', 'Chamb√©ry Savoie Mont Blanc Handball',
  'Saint-Rapha√´l Var Handball', 'Dunkerque HB Grand Littoral', 'Limoges Handball',
  'US Ivry Handball', 'PAUC Handball', 'Cesson Rennes M√©tropole Handball',
  'Chartres M√©tropole 28', 'US Cr√©teil Handball',

  // ProLigue et clubs amateurs
  'Istres Provence Handball', 'Tremblay-en-France Handball', 'Dijon Handball',
  'Bill√®re Handball Pyr√©n√©es', 'Pontault-Combault Handball', 'S√©lestat Alsace Handball',
];

// üèê VOLLEYBALL
export const VOLLEYBALL_CLUBS = [
  // Ligue A Masculine
  'Tours Volley-Ball', 'Chaumont Volley-Ball 52', 'AS Cannes Volley-Ball',
  'Tourcoing Lille M√©tropole', 'Montpellier UC', 'Arago de S√®te',
  'Paris Volley', 'Narbonne Volley', 'Ajaccio', 'Nice Volley-Ball',
  'Plessis-Robinson', 'Poitiers Volley-Ball',

  // Ligue A F√©minine
  'RC Cannes', 'Le Cannet Rocheville', 'Mulhouse Alsace Volley-Ball',
  'B√©ziers Volley', 'Vand≈ìuvre Nancy Volley-Ball', 'Nantes Rez√© M√©tropole Volley',
  'Mougins Volley-Ball', 'Saint-Rapha√´l Var Volley-Ball',
];

// üéæ TENNIS
export const TENNIS_CLUBS = [
  'Tennis Club de Paris', 'Racing Club de France', 'Stade Fran√ßais',
  'Tennis Club de Lyon', 'Tennis Club de Marseille', 'Nice Lawn Tennis Club',
  'Tennis Club de Toulouse', 'AS Monaco Tennis', 'Tennis Club de Strasbourg',
  'Tennis Club Boulogne-Billancourt', 'Tennis Club de Bordeaux',
  'Standard Athletic Club', 'TC Issy-les-Moulineaux',
];

// üèä NATATION
export const SWIMMING_CLUBS = [
  'Olympic Nice Natation', 'CN Marseille', 'CN Antibes', 'Dauphins Toulouse OEC',
  'Cercle des Nageurs de Paris', 'Mulhouse Olympic Natation', 'AS Monaco Natation',
  'CN Cal√©doniens', 'Stade de Reims Natation', 'Montpellier M√©tropole Natation',
  'Amiens M√©tropole Natation', 'Olympique la Garenne-Colombes',
  'Cercle Nageurs Melun Val de Seine', 'Nautic Club N√Æmes',
];

// üèÉ ATHL√âTISME
export const ATHLETICS_CLUBS = [
  'US Cr√©teil Athl√©tisme', 'Athl√©tic Club de Boulogne-Billancourt',
  'Entente Franconville Cesame Val-d\'Oise', 'Stade Fran√ßais',
  'Union Sportive M√©tropolitaine des Transports', 'CA Montreuil 93',
  'Toulouse UC', 'AC D√©cines', '√âlan 91', 'AS Saint-M√©dard-en-Jalles',
  'EA Douchy', 'AS La Pomme Marseille', 'Montpellier Athl√©tisme',
];

// üö¥ CYCLISME
export const CYCLING_CLUBS = [
  'AG2R Citro√´n Team', 'Groupama-FDJ', 'Cofidis', 'Ark√©a-Samsic',
  'TotalEnergies', 'B&B Hotels-KTM', 'Decathlon AG2R La Mondiale',
  'US Cr√©teil Cyclisme', 'VC Rouen 76', 'V√©lo Club La Pomme Marseille',
  'UV Aube', 'EC Saint-√âtienne', 'V√©lo Sprint Narbonnais',
];

// ü•ã JUDO
export const JUDO_CLUBS = [
  'Paris Saint-Germain Judo', 'Levallois Sporting Club Judo',
  'Racing Club de France Judo', 'US Orl√©ans Judo', 'Red Star Club Champigny',
  'AS Monaco Judo', 'Entente Sportive Blanc-Mesnil', 'JC Villebon',
  'Stade de Vanves', 'Amiens Judo Club', '√âtoile Sportive du Blanc-Mesnil',
];

// ü•ä BOXE
export const BOXING_CLUBS = [
  'Paris Universit√© Club Boxing', 'CSA des Arm√©es', 'Boxing Beats',
  'Ring Olympique Marseillais', 'Noble Art Montpellier', 'ASPTT Paris Boxe',
  'Boxing Club de Nantes', 'Team Eliteam Toulouse', 'Le Noble Art de Bordeaux',
];

// ‚õ∑Ô∏è SPORTS D'HIVER
export const WINTER_SPORTS_CLUBS = [
  'Ski Club d\'Annecy', 'CS Chamonix', 'US Autrans', 'SC Bois d\'Amont',
  'SC La Clusaz', 'SC Meg√®ve', 'US Combloux', 'SC Les Rousses',
  'SC Xonrupt', 'SC Val d\'Abondance', 'SC Grand-Bornand',
  'Font-Romeu Club Nordique', 'Grenoble Universit√© Club Ski',
];

// üö£ AVIRON
export const ROWING_CLUBS = [
  'Aviron Bayonnais', 'Cercle de l\'Aviron de Nancy', 'CN Marseille Aviron',
  'Soci√©t√© Nautique de Bayonne', 'Union Nautique de Lyon', 'Rowing Club Strasbourg',
  'Aviron Grenoblois', 'Rowing Club d\'Angers', 'Aviron Toulousain',
  'Club Nautique de France', 'Cercle de l\'Aviron de Paris',
];

// ‚õµ VOILE
export const SAILING_CLUBS = [
  'Yacht Club de France', 'Soci√©t√© Nautique de Marseille', 'ENVSN Brest',
  'Yacht Club de Monaco', 'Cercle Nautique de Nice', 'Cercle de la Voile de Paris',
  'Yacht Club de Toulon', 'Soci√©t√© des R√©gates Rochelaises', 'Union Nautique de Bordeaux',
  'Cercle Nautique Cal√©donien', 'Soci√©t√© Nautique de la Baie de Saint-Malo',
];

// ü§∫ ESCRIME
export const FENCING_CLUBS = [
  'Paris Universit√© Club Escrime', 'Racing Club de France Escrime',
  'CS Bois-Colombes', 'US M√©tro Transport', 'Stade Fran√ßais Escrime',
  'AS Monaco Escrime', 'Lagard√®re Paris Racing', 'Lyon Escrime',
  'Cercle d\'Escrime Melun Val de Seine', 'Bourg-la-Reine Escrime',
];

// üèá √âQUITATION
export const EQUESTRIAN_CLUBS = [
  'Haras de Jardy', 'P√¥le International du Cheval', '√âcurie du Lys',
  '√âcuries du Grand Parquet', 'Centre √âquestre de Fontainebleau',
  'Haras de Hus', 'Cavaliers du Bois', 'Poney Club du Touquet',
  '√âcuries de la Cense', 'Centre √âquestre de Lamotte-Beuvron',
];

// üèí HOCKEY SUR GLACE
export const ICE_HOCKEY_CLUBS = [
  'Br√ªleurs de Loups de Grenoble', 'Dragons de Rouen', 'Boxers de Bordeaux',
  'Rapaces de Gap', 'Pionniers de Chamonix', 'Gothiques d\'Amiens',
  'Ducs d\'Angers', 'Aigles de Nice', 'Hormadi Anglet', 'Scorpions de Mulhouse',
];

// ü•ç SPORTS DIVERS
export const OTHER_CLUBS = [
  // Gymnastique
  'Stade Fran√ßais Gymnastique', 'AS Monaco Gymnastique', 'Paris Gymnastique',
  'INSEP Gymnastique', 'Avoine Beaumont Gymnastique', 'Gym Montois',

  // Squash
  'Squash Montmartre', 'Squash Club de Paris', 'Squash 34 Montpellier',
  'Squash Club Lyon', 'Squash Marseille', 'Squash Toulouse',

  // Badminton
  'Paris UC Badminton', 'Boulogne 92 Badminton', 'Marseille UC Badminton',
  'Chamb√©ry Savoie Badminton', 'Rouen Badminton', 'Toulouse Badminton Club',

  // Taekwondo
  'Paris Taekwondo', 'Villejuif Taekwondo', 'Marseille Taekwondo Club',
  'Lyon Taekwondo', 'Toulouse Taekwondo', 'Club Taekwondo Strasbourg',

  // Karat√©
  'Paris Saint-Germain Karat√©', 'Karat√© Club Bois-Colombes', 'Karat√© Toulouse',
  'Karat√© Club de Paris', 'Shotokan Karat√© Marseille', 'Karat√© Lyon',

  // Trampoline
  'Amicale La√Øque Eaubonne Trampoline', 'ACROSPORT Toulouse', 'Trampoline Club Nantes',

  // Skateboard / BMX
  'Cosanostra Skateboard Lyon', 'Jungle Spot Bordeaux', 'BMX Club Paris',
  'Marseille Skate Park', 'Nantes BMX Club',

  // Escalade
  'Club Alpin Fran√ßais Paris', 'Grimporama Lyon', 'Entre-Prises Lille',
  'Arkose Paris', 'Climb Up Marseille', 'Vertical Art Toulouse',

  // Padel / Squash
  'Padel Club Paris', 'Ten Padel Marseille', 'Padel Horizon Lyon',
  'We Are Padel Toulouse', 'Padel Attitude Bordeaux',

  // Futsal
  'Paris Acasa Futsal', 'Kremlin-Bic√™tre United', 'Futsal Club de Nantes',
  'Toulon Elite Futsal', 'Roubaix Futsal', 'Lyon Futsal',

  // Beach Sports
  'Beach Volley Club Paris', 'Marseille Beach Soccer', 'Beach Rugby Hossegor',
  'Beach Handball Lacanau',

  // Arts Martiaux
  'Paris Fighting System', 'Bushido Marseille', 'Sambo Club Paris',
  'MMA Factory Paris', 'Dragon Bleu Paris', 'Fight Club Toulouse',
  'Jiu-Jitsu Br√©silien Paris', 'Muay Thai Paris',

  // Golf
  'Golf de Saint-Cloud', 'Golf National Guyancourt', 'Golf de Chantilly',
  'Golf du M√©doc', 'Golf de Fontainebleau', 'Golf de Lyon',
  'Golf d\'Aix-en-Provence', 'Golf International de Barri√®re',

  // Triathlon
  'Paris Triathlon', 'Triathlon Club Versailles', 'Nice Triathlon',
  'Lyon Triathlon', 'Poissy Triathlon', 'Triathlon Toulouse M√©tropole',

  // Pentathlon Moderne
  'Paris Pentathlon Moderne', 'Clamart Pentathlon', 'Lyon Pentathlon',

  // Tir
  'Tir Sportif Paris', 'F√©d√©ration Fran√ßaise de Tir Paris',
  'Club de Tir Marseille', 'Tir √† l\'Arc Paris',

  // P√©tanque / Boules
  'P√©tanque Club Paris', 'Boules Parisiennes', 'Marseille P√©tanque',
  'Lyon P√©tanque Sport', 'Nice Bouliste',
];

// CLUBS UNIVERSITAIRES
export const UNIVERSITY_CLUBS = [
  'ASUL Lyon Sport Universitaire', 'Bureau des Sports - Sorbonne',
  'Club Athl√©tique des Sports G√©n√©raux de Paris', 'Sport Universitaire de Bordeaux',
  'Bureau des Sports - Universit√© Paris-Saclay', 'CRSU Toulouse',
  'SUAPS - Universit√© de Nantes', 'Sport Universitaire Grenoble',
  'Sport Universitaire Marseille', 'Sport Universitaire Nice',
  'Sport Universitaire Montpellier', 'Sport Universitaire Rennes',
  'Sport Universitaire Strasbourg', 'FFSU - F√©d√©ration Fran√ßaise Sport Universitaire',
];

// CLUBS MULTISPORTS ET CENTRES INTERSPORTS
export const MULTISPORT_CLUBS = [
  // Grands clubs omnisports
  'Paris Saint-Germain', 'AS Monaco', 'Olympique de Marseille',
  'Stade Fran√ßais', 'Racing 92', 'Union Sportive Cr√©teil',
  'Red Star Club', 'US M√©tro',

  // R√©seau ASPTT (Association Sportive du Personnel des PTT)
  'ASPTT Paris', 'ASPTT Marseille', 'ASPTT Lyon', 'ASPTT Toulouse',
  'ASPTT Nice', 'ASPTT Strasbourg', 'ASPTT Bordeaux', 'ASPTT Lille',
  'ASPTT Nantes', 'ASPTT Montpellier', 'ASPTT Nancy', 'ASPTT Rennes',
  'ASPTT Grenoble', 'ASPTT Rouen', 'ASPTT Clermont-Ferrand',

  // Clubs militaires et institutionnels
  'CSA Arm√©es', 'EMHM (√âcole Militaire Haute Montagne)',
  'Bataillon de Joinville', 'CREPS √éle-de-France',
  'CREPS PACA', 'CREPS Rh√¥ne-Alpes', 'CREPS Bretagne',
  'INSEP (Institut National du Sport)',

  // Clubs de la Police et Pompiers
  'AS Police Paris', 'AS Sapeurs Pompiers Paris', 'Police Nationale Sport',

  // R√©seau UFOLEP (Union Fran√ßaise des ≈íuvres La√Øques d\'√âducation Physique)
  'UFOLEP Paris', 'UFOLEP √éle-de-France', 'UFOLEP PACA',
  'UFOLEP Rh√¥ne-Alpes', 'UFOLEP Bretagne',

  // R√©seau FSGT (F√©d√©ration Sportive et Gymnique du Travail)
  'FSGT Paris', 'FSGT Marseille', 'FSGT Lyon',

  // Clubs Loisirs et Associations Multisports
  'US M√©tro Transport', 'CASG Paris', 'Racing Club de France',
  'Sporting Club de Paris', 'Club Sportif Bretigny',
  'US Ivry', 'CS Meaux', 'AS Bondy', 'ES Vitry',
  'CA Montreuil', 'US Alfortville', 'SC Charenton',

  // Centres sportifs r√©gionaux
  'Sport 2000 Paris', 'Centre Sportif La Plaine',
  'Complexe Sportif L√©o Lagrange', 'Centre Sportif Carpentier',
  'Stade Jean Bouin', 'Centre Sportif √âmile Anthoine',

  // Clubs d\'entreprise et CSE
  'Club Sportif Air France', 'Club Sportif EDF-GDF',
  'Club Sportif RATP', 'Club Sportif SNCF',
  'Amicale Sportive Renault', 'Club Sportif Orange',

  // Centres de loisirs sportifs
  'UCPA Paris', 'UCPA Sport Loisirs', 'D√©cathlon Club',
  'Centre Sportif Villette', 'Centre Aquatique Pailleron',
];

// Liste compl√®te de tous les clubs
export const ALL_CLUBS = [
  ...FOOTBALL_CLUBS,
  ...BASKETBALL_CLUBS,
  ...RUGBY_CLUBS,
  ...HANDBALL_CLUBS,
  ...VOLLEYBALL_CLUBS,
  ...TENNIS_CLUBS,
  ...SWIMMING_CLUBS,
  ...ATHLETICS_CLUBS,
  ...CYCLING_CLUBS,
  ...JUDO_CLUBS,
  ...BOXING_CLUBS,
  ...WINTER_SPORTS_CLUBS,
  ...ROWING_CLUBS,
  ...SAILING_CLUBS,
  ...FENCING_CLUBS,
  ...EQUESTRIAN_CLUBS,
  ...ICE_HOCKEY_CLUBS,
  ...OTHER_CLUBS,
  ...UNIVERSITY_CLUBS,
  ...MULTISPORT_CLUBS,
].sort((a, b) => a.localeCompare(b, 'fr'));

// Cat√©gories pour l'affichage organis√©
export const CLUBS_CATEGORIES = {
  'Football': FOOTBALL_CLUBS,
  'Basketball': BASKETBALL_CLUBS,
  'Rugby': RUGBY_CLUBS,
  'Handball': HANDBALL_CLUBS,
  'Volleyball': VOLLEYBALL_CLUBS,
  'Tennis': TENNIS_CLUBS,
  'Natation': SWIMMING_CLUBS,
  'Athl√©tisme': ATHLETICS_CLUBS,
  'Cyclisme': CYCLING_CLUBS,
  'Judo': JUDO_CLUBS,
  'Boxe': BOXING_CLUBS,
  'Sports d\'hiver': WINTER_SPORTS_CLUBS,
  'Aviron': ROWING_CLUBS,
  'Voile': SAILING_CLUBS,
  'Escrime': FENCING_CLUBS,
  '√âquitation': EQUESTRIAN_CLUBS,
  'Hockey sur glace': ICE_HOCKEY_CLUBS,
  'Clubs multisports': MULTISPORT_CLUBS,
  'Clubs universitaires': UNIVERSITY_CLUBS,
  'Autres sports': OTHER_CLUBS,
};

/**
 * Recherche intelligente de clubs avec scoring
 * @param query - Texte de recherche
 * @param sportFilter - Optionnel: Filtrer par sport de l'athl√®te
 * @returns Liste des clubs tri√©s par pertinence
 */
export function searchClubs(query: string, sportFilter?: string): string[] {
  if (!query || query.length < 2) {
    // Si pas de requ√™te, afficher les clubs les plus populaires
    return ALL_CLUBS.slice(0, 30);
  }

  const lowerQuery = query.toLowerCase().trim();
  const words = lowerQuery.split(' ');

  // Si un sport est fourni, prioriser les clubs de ce sport
  let priorityClubs: string[] = [];
  if (sportFilter) {
    const sportLower = sportFilter.toLowerCase();
    if (sportLower.includes('football') || sportLower === 'foot') {
      priorityClubs = FOOTBALL_CLUBS;
    } else if (sportLower.includes('basket')) {
      priorityClubs = BASKETBALL_CLUBS;
    } else if (sportLower.includes('rugby')) {
      priorityClubs = RUGBY_CLUBS;
    } else if (sportLower.includes('hand')) {
      priorityClubs = HANDBALL_CLUBS;
    } else if (sportLower.includes('volley')) {
      priorityClubs = VOLLEYBALL_CLUBS;
    } else if (sportLower.includes('tennis')) {
      priorityClubs = TENNIS_CLUBS;
    } else if (sportLower.includes('natation') || sportLower.includes('nage')) {
      priorityClubs = SWIMMING_CLUBS;
    } else if (sportLower.includes('athl√©')) {
      priorityClubs = ATHLETICS_CLUBS;
    } else if (sportLower.includes('cyclisme') || sportLower.includes('v√©lo')) {
      priorityClubs = CYCLING_CLUBS;
    } else if (sportLower.includes('judo')) {
      priorityClubs = JUDO_CLUBS;
    } else if (sportLower.includes('boxe')) {
      priorityClubs = BOXING_CLUBS;
    } else if (sportLower.includes('ski') || sportLower.includes('hiver')) {
      priorityClubs = WINTER_SPORTS_CLUBS;
    } else if (sportLower.includes('aviron') || sportLower.includes('rame')) {
      priorityClubs = ROWING_CLUBS;
    } else if (sportLower.includes('voile')) {
      priorityClubs = SAILING_CLUBS;
    } else if (sportLower.includes('escrime')) {
      priorityClubs = FENCING_CLUBS;
    } else if (sportLower.includes('√©quitation') || sportLower.includes('cheval')) {
      priorityClubs = EQUESTRIAN_CLUBS;
    } else if (sportLower.includes('hockey')) {
      priorityClubs = ICE_HOCKEY_CLUBS;
    } else if (sportLower.includes('gymnastique')) {
      priorityClubs = [...OTHER_CLUBS.filter(c => c.toLowerCase().includes('gymnastique'))];
    } else if (sportLower.includes('golf')) {
      priorityClubs = [...OTHER_CLUBS.filter(c => c.toLowerCase().includes('golf'))];
    } else if (sportLower.includes('triathlon')) {
      priorityClubs = [...OTHER_CLUBS.filter(c => c.toLowerCase().includes('triathlon'))];
    } else if (sportLower.includes('escalade')) {
      priorityClubs = [...OTHER_CLUBS.filter(c => c.toLowerCase().includes('escalade') || c.toLowerCase().includes('climb'))];
    } else if (sportLower.includes('badminton')) {
      priorityClubs = [...OTHER_CLUBS.filter(c => c.toLowerCase().includes('badminton'))];
    } else if (sportLower.includes('squash') || sportLower.includes('padel')) {
      priorityClubs = [...OTHER_CLUBS.filter(c => c.toLowerCase().includes('squash') || c.toLowerCase().includes('padel'))];
    } else if (sportLower.includes('arts martiaux') || sportLower.includes('mma') || sportLower.includes('combat')) {
      priorityClubs = [...OTHER_CLUBS.filter(c => c.toLowerCase().includes('mma') || c.toLowerCase().includes('fight') || c.toLowerCase().includes('combat'))];
    } else if (sportLower.includes('futsal')) {
      priorityClubs = [...OTHER_CLUBS.filter(c => c.toLowerCase().includes('futsal'))];
    } else if (sportLower.includes('skate') || sportLower.includes('bmx')) {
      priorityClubs = [...OTHER_CLUBS.filter(c => c.toLowerCase().includes('skate') || c.toLowerCase().includes('bmx'))];
    }
  }

  // Recherche avec scoring
  const results = ALL_CLUBS.map(club => {
    const lowerClub = club.toLowerCase();
    let score = 0;

    // Bonus si le club est dans la cat√©gorie du sport
    if (priorityClubs.includes(club)) {
      score += 200;
    }

    // Match exact au d√©but (score tr√®s √©lev√©)
    if (lowerClub.startsWith(lowerQuery)) {
      score += 100;
    }

    // Match exact n'importe o√π
    if (lowerClub.includes(lowerQuery)) {
      score += 50;
    }

    // Match de tous les mots
    const allWordsMatch = words.every(word => lowerClub.includes(word));
    if (allWordsMatch) {
      score += 30;
    }

    // Match partiel de mots
    words.forEach(word => {
      if (lowerClub.includes(word)) {
        score += 10;
      }
    });

    // Bonus pour les clubs historiques et populaires
    const popularClubs = [
      'paris saint-germain', 'olympique de marseille', 'olympique lyonnais',
      'as monaco', 'losc lille', 'stade rennais', 'stade toulousain',
      'racing 92', 'montpellier', 'toulouse', 'lyon', 'marseille'
    ];

    popularClubs.forEach(popular => {
      if (lowerClub.includes(popular)) {
        score += 5;
      }
    });

    return { club, score };
  });

  // Filtrer les r√©sultats avec score > 0 et trier par score d√©croissant
  return results
    .filter(r => r.score > 0)
    .sort((a, b) => b.score - a.score)
    .slice(0, 40) // Limiter √† 40 r√©sultats
    .map(r => r.club);
}
